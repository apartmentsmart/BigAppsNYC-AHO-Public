<style>

</style>
<div class="grid-container resultsList">

    <div ng-controller="listingController">
	    <div ng-repeat="listing in thisListing">

	    	<div class="grid-block hero-section">
<!-- 	    	<div class="grid-block hero-section" style="background: url('../assets/img/room.jpg')"> -->
				<div class="hero-content">
					<div class="listing-name">{{listing.name}}</div>
					<div class="listing-borough">{{listing.borough}} - {{listing.neighborhood}}</div>
						<div class="star-rating">
							<i class="fa" ng-class="{'fa-star-o': listing.avgRating < .5,  'fa-star-half-o': listing.avgRating >= .5 && listing.avgRating < 1,  'fa-star' : listing.avgRating >= 1 }"></i>
							<i class="fa" ng-class="{'fa-star-o': listing.avgRating < 1.5, 'fa-star-half-o': listing.avgRating >= 1.5 && listing.avgRating < 2,  'fa-star' : listing.avgRating >= 2 }"></i>
							<i class="fa" ng-class="{'fa-star-o': listing.avgRating < 2.5, 'fa-star-half-o': listing.avgRating >= 2.5 && listing.avgRating < 3,  'fa-star' : listing.avgRating >= 3 }"></i>
							<i class="fa" ng-class="{'fa-star-o': listing.avgRating < 3.5, 'fa-star-half-o': listing.avgRating >= 3.5 && listing.avgRating < 4,  'fa-star' : listing.avgRating >= 4 }"></i>
							<i class="fa" ng-class="{'fa-star-o': listing.avgRating < 4.5, 'fa-star-half-o': listing.avgRating >= 4.5 && listing.avgRating < 5,  'fa-star' : listing.avgRating >= 5 }"></i>
							&nbsp; &nbsp; <span class="rating-text">{{listing.avgRating}}</span>
					</div>
				</div>
			</div> <!-- End grid-block hero-section -->
			<div class="listing-content">
				<div class="grid-block feature-data">
					<div ng-click="scrollTo('bedrooms')" class="grid-content bedrooms feature-section">
						<i class="fa fa-bed"></i>
						{{listing.room_range}} br.
					</div>
					<div ng-click="scrollTo('rent')" class="grid-content schools feature-section">
							<i class="fa fa-money"></i>
							${{listing.rent_range}}/month*
					</div>
					<div ng-click="scrollTo('schools')" class="grid-content rent feature-section">
						<i class="fa fa-graduation-cap"></i> 
						 {{listing.schoolCount}} Schools Nearby
					</div>
					<div ng-click="scrollTo('reviews')" class="grid-content rating feature-section">
						<i class="fa fa-star-half-o"></i>
						{{listing.avgRating}} / 5
						<br>
						Rating
					</div>
				</div>

				<div class="clearfix"></div>

				<div class="non-feature-data">

					<div id="description" class="description listing-section">
						<div class="listing-body">
							<p>
								Serves low to moderate income {{listing.elderly == 1 ? 'seniors' : 'families'}} through the Low Income Housing Tax Credit program.
							</p>
						</div>
					</div>


					<div id="rent" class="monthly-rent listing-section">
						<div class="listing-heading">
							<i class="fa fa-money"></i> Monthly Rent
							<div class="suggest-edit" zf-open="suggest-edit">Suggest Edit</div>
						</div>
						<div class="listing-body">
							<p>
								Your monthly rent is established based on a number of different criteria. To be eligible for this property lorem ipsum dolor amet.
							</p>
						</div>
					</div>

					<div id="bedrooms" class="bedrooms listing-section">
						<div class="listing-heading">
							<i class="fa fa-bed"></i> Bedrooms
							<div class="suggest-edit" zf-open="suggest-edit">Suggest Edit</div>
						</div>
						<div class="listing-body">
							<p>
								There are one, two, and three bedroom apartments available at this address. The number of bedrooms you need are often dependant on the size of your household.
							</p>
							<table class="bedroom-table">
								<tr class="bedroom-table-heading">
									<td># of Units</td>
									<td>Bedrooms</td>
									<td>Est. Rent</td>
								</tr>
								<tr ng-repeat="unit in listing.units" class="bedroom-table-body">
									<td><span class="badge">{{unit.count}}</span></td>
									<td>{{unit.name}}</td>
									<td><span ng-show="unit.min_rent">${{unit.min_rent}}-</span>${{unit.max_rent}}</td>
								</tr>
							</table>
						</div>
					</div>

					<div id="schools" class="schools listing-section">
						<div class="listing-heading">
							<i class="fa fa-graduation-cap"></i> Schools
						</div>
						<div class="listing-body">
							<p>
								There are {{listing.schoolCount}} public schools near {{listing.name}} with an average GreatSchools rating of {{listing.avgGreatSchoolsRating}} out of 10.

							</p>
							<table class="school-table">
								<thead>
									<tr class="school-table-heading">
										<th><a ng-click="schoolSortType = 'name';       schoolSortReverse = !schoolSortReverse">Name</a></th>
										<th><a ng-click="schoolSortType = 'gradeRange'; schoolSortReverse = !schoolSortReverse">Grade</a></th>
										<th><a ng-click="schoolSortType = 'gsRating';   schoolSortReverse = !schoolSortReverse"><i class="fa fa-star"></i></a></th>
										<th><a ng-click="schoolSortType = 'distance';   schoolSortReverse = !schoolSortReverse"><i class="fa fa-location-arrow"></i></a></th>

									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="school in listing.schools | orderBy:schoolSortType:schoolSortReverse" class="school-table-body">
										<td><a href='{{school.overviewLink}}' target="_blank">{{school.name}}</a></td>
										<td>{{school.gradeRange}}</td>
										<td>{{school.gsRating}}</td>
										<td>{{school.distance}}m</td>
									</tr>
								</tbody>
								<!--
								<thead>
									<tr class="school-table-heading">
										<th>Name</th>
										<th>Grade</th>
										<th><i class="fa fa-star"></i></th>
										<th><i class="fa fa-location-arrow"></i></th>
									</tr>
								</thead>
							-->
							</table>
						</div>
					</div>

					<div id="reviews" class="reviews listing-section">
						<div class="listing-heading">
							<i class="fa fa-star-half-o"></i> Reviews
						</div>
						<div ng-repeat="review in listing.reviews" class="listing-body">
							<div class="review-meta grid-content">
								<div class="subtitle grid-block">
									{{review.by}}
									<span class="time">- 4 Months Ago</span>
								</div>
								<div class="star-rating grid-block">
									<i class="fa" ng-class="{'fa-star-o': review.rating < .5,  'fa-star-half-o': review.rating >= .5 && review.rating < 1,  'fa-star' : review.rating >= 1 }"></i>
									<i class="fa" ng-class="{'fa-star-o': review.rating < 1.5, 'fa-star-half-o': review.rating >= 1.5 && review.rating < 2,  'fa-star' : review.rating >= 2 }"></i>
									<i class="fa" ng-class="{'fa-star-o': review.rating < 2.5, 'fa-star-half-o': review.rating >= 2.5 && review.rating < 3,  'fa-star' : review.rating >= 3 }"></i>
									<i class="fa" ng-class="{'fa-star-o': review.rating < 3.5, 'fa-star-half-o': review.rating >= 3.5 && review.rating < 4,  'fa-star' : review.rating >= 4 }"></i>
									<i class="fa" ng-class="{'fa-star-o': review.rating < 4.5, 'fa-star-half-o': review.rating >= 4.5 && review.rating < 5,  'fa-star' : review.rating >= 5 }"></i>
								</div>
							</div>
							<p>
								{{review.text}}
							</p>
						
						</div>
							<div class="absolute-center grid-block">
								<a class="button hollow read-more">Read More Reviews</a>
							</div>
					</div>


					<div id="violations" class="violations listing-section">
						<div class="listing-heading">
							<i class="fa fa-chain-broken"></i> Code Violations
						</div>
						<div class="listing-body">
							
							<div ng-repeat='violation in listing.violations'>
								<h3><i class='fa  fa-exclamation-triangle'></i> Violation On {{violation.NOVIssuedDate}}</h3>
								<h5>Status: {{violation.status}}</h5>
								<h5>Correct By: {{violation.OriginalCorrectByDate}}</h5>
								<p>{{violation.description}}.</p>
							</div>

						</div>
					</div>

					<div id="contact-info" class="contact-info listing-section">
						<i class="fa fa-phone"></i> Phone Number
					</div>

					<div id="website" class="website listing-section">
						<i class="fa fa-globe"></i> Website
					</div>
					<div id="accessibility" class="accessibility listing-section">
						<i class="fa fa-wheelchair"></i> Accessibility
					</div>

					<div id="address" class="address listing-section grid-content">
							<div class="listing-address grid-block">
								<i class="fa fa-map-marker"></i>{{listing.address}}
							</div>
							<div class="cta grid-block">
								<a class="button hollow">
									<i class="fa fa-location-arrow"></i> &nbsp;Get Directions
								</a>
							</div>
					</div>


					<div class="map-container listing-section">

						<div class="google-maps grid-block">

							<div class='button secondary toggle-full-map' ng-click='toggleFullMap(1)' ng-hide="mapView == 1" ><i class="fa fa-arrows-alt fa-2x"></i></div>

							<div class='mapToggles' ng-show="mapView == 1">

								<ul class="button-group secondary small">
									<li><a ng-click='toggleSchools(!showSchools);'>Show Schools</a></li>
									<li><a ng-click="toggleFullMap(0)">Back to Listing</a></li>
								</ul>
									
							</div>

							<map id='mainMap' ng-class="{'largeMap': mapView == 1}" center="{{listing.latitude}}, {{listing.longitude}}" zoom="18" style="width:100%;">
								
								<!-- Listing Marker -->   
								<marker id="listingMarker" position="{{listing.latitude}}, {{listing.longitude}}" on-click="showInfoWindow(event, 'listingMarkeriw')"></marker> 
									
								 <!-- School Markers -->
								<marker 
								   	icon="//google-maps-icons.googlecode.com/files/university.png" 
							   		ng-repeat="school in listing.schools" 
						   			position="{{school.lat}}, {{school.lon}}"  
						   			id='{{school.gsId}}' 
						   			on-click='showSchool(event, $index)'
								></marker>

							</map>
						</div>
					</div>

				</div> <!-- End non feature data -->

		</div> <!-- End listing-content -->





<div zf-modal="" id="suggest-edit" class="collapse">
	<div class="grid-block vertical">
		<div class="primary title-bar">
			<span zf-close="" class="right"><a>Done</a></span>
		</div>
		<div class="grid-content padding" style="padding-top: 1rem;">
			<form>					<!--
				<div class="small-12 medium-6 grid-content suggestions">

					<label>What do you know about this property?</label>

						<div class="grid-block">

							<div class="grid-content suggestion-input">
								<input id="checkboxName" type="checkbox" ng-model="checkedName" class="small-5"><label for="checkboxName">Name</label>
							</div>

							<div class="grid-content suggestion-input">
								<input id="checkboxAddress" type="checkbox" ng-model="checkedAddress" class="small-5"><label for="checkboxAddress">Address</label>
							</div>
							
							<div class="grid-content suggestion-input">
								<input id="checkboxPhone" type="checkbox" ng-model="checkedPhone" class="small-5"><label for="checkboxPhone">Phone</label>
							</div>
							
							<div class="grid-content suggestion-input">
								<input id="checkboxEmail" type="checkbox" ng-model="checkedEmail" class="small-5"><label for="checkboxEmail">Email</label>
							</div>
							
							<div class="grid-content suggestion-input">
								<input id="checkboxBedrooms" type="checkbox" ng-model="checkedBedrooms" class="small-5"><label for="checkboxBedrooms">Bedrooms</label>
							</div>
							
							<div class="grid-content suggestion-input">
								<input id="checkboxWebsite" type="checkbox" ng-model="checkedWebsite" class="small-5"><label for="checkboxWebsite">Website</label>
							</div>
							
							<div class="grid-content suggestion-input">
								<input id="checkboxPhoto" type="checkbox" ng-model="checkedPhoto" class="small-5"><label for="checkboxPhoto">Photo</label>
							</div>
							
						</div>
			

					
				</div>
		-->
				<br>

				<label>
					<input type="text" placeholder="Name" ng-show="checkedName">
				</label>

				<label>
					<input type="text" placeholder="Address" ng-show="checkedAddress">
				</label>

				<label>
					<input type="text" placeholder="Phone Number" ng-show="checkedPhone">
				</label>

				<label>
					<input type="text" placeholder="Email Address" ng-show="checkedEmail">
				</label>

			
		
								<div class=" grid-block" ng-repeat="unit in listing.units">
									<div class="grid-content small-2">{{unit.brs}}br</div>
									<div class="grid-content small-5"><input class="grid-content small-12" placeholder='Min Rent' ng-model='unit.min_rent' name="{{unit.brs}}br_min_rent"/></div>
									<div class="grid-content small-5"><input class="grid-content small-12" placeholder='Max Rent' ng-model="unit.max_rent" name="{{unit.brs}}br_max_rent"/></div>

								</div>
			

				<label>
					<input type="text" placeholder="Website Infomation" ng-show="checkedWebsite">
				</label>

				<label>
					<input type="text" placeholder="Violation Infomation" ng-show="checkedViolations">
				</label>

				<label>
					<input type="text" placeholder="Photo" ng-show="checkedPhoto">
				</label>



			</form>
			</div>
		</div>
	</div>

	<!-- Review Modal -->


	    </div> <!-- End ng-repeat -->
	
	</div> <!-- End listingController -->

</div>


